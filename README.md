# Bewise Question API <img src="http://cdn.onlinewebfonts.com/svg/img_238906.png" width=64>

Тестовое задание для компании ***Bewise.ai.*** API сервис вопросов к викторине.

Данный микросервис предоставляет API для доступа к стороннему ресурсу и записи данных в БД.

### Чтобы запустить:

Клонируйте репозиторий в директорию, из которой будете запускать проект:

```BASH
git clone git@github.com:Ferdinand-I/bewise_questions_api.git
```

Перейдите в директорию проекта:

```BASH
cd bewise_questions_api/
```

Проект собран и работает в контейнерах Docker, чтобы их запустить выполните следующую команду:

```BASH
docker compose up
```

Ура! Сервис запущен локально и готов к работе!

Сервис реализует единственный эндпоинт:

<http://localhost:8000/api/v1/questions/>

Он принимает post-запросы вида:

```JSON
{"questions_num": 1}
```
где значение *"questions_num"* - это количество запрашиваемых у внешнего API уникальных вопросов для викторины. Любое число, которое больше 0.

После валидного запроса сервис обрабатывает данные и записывает в БД PostgreSQL, которая работает в другом, соединённом с веб-пориложенем, контейнере.
  
Посмотреть записи БД в контейнере можно. Открываем интерактивный терминал в контейнере:
  
```BASH
docker exec -ti BewiseDB bash
```
  
Работает, как с обычной БД POstgreSQL.
Открываем консоль psql под пользователем "postgres":
  
```BASH
psql -U postgres
```

Коннектимся к БД:

```BASH
\c Bewise
```

Выбираем все записи из таблицы:

```BASH
SELECT * FROM api_question;
```
